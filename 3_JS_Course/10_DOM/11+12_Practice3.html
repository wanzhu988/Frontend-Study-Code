<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload = function() {
            const hobbies = document.getElementsByName("hobby")

            const allBtn = document.getElementById("all")
            allBtn.onclick = function () {
                for(let i = 0; i < hobbies.length; i++){
                    hobbies[i].checked = true;
                }
            }
            const noBtn = document.getElementById("no")
            noBtn.onclick = function() {
                for(let i = 0; i < hobbies.length; i++){
                    hobbies[i].checked = false;
                }
            }

            const rebtn = document.getElementById("reverse")
            rebtn.onclick = function() {
                for(let i = 0; i < hobbies.length; i++){
                    hobbies[i].checked = !hobbies[i].checked
                }
            }

            const sendBtn = document.getElementById("send")
            sendBtn.onclick = function() {
                for(let i = 0; i < hobbies.length; i++){
                    if(hobbies[i].checked) {
                        alert(hobbies[i].value)
                    }
                }
            }

            const checkallBox = document.getElementById("checkall")
            checkallBox.onchange = function() {
                for (let i = 0; i < hobbies.length; i++) {
                        hobbies[i].checked = this.checked //将每个爱好复选框的 checked 属性设置为与当前全选复选框相同的状态
                    }
            }
            for (let i = 0; i < hobbies.length; i++) {
                hobbies[i].onchange = function () {
                    const checkedbox = document.querySelectorAll(
                        "[name=hobby]:checked"
                    )
                    //document.querySelectorAll 方法返回一个 NodeList 对象，包含文档中所有匹配指定CSS选择器的元素。
                    // "[name=hobby]" 选择所有 name 属性为 "hobby" 的元素。
                    // ":checked" 是一个伪类，用于选择所有被选中的表单元素（如复选框、单选按钮）。
                    console.log(checkedbox);
                    if(hobbies.length === checkedbox.length) {
                        checkallBox.checked = true
                    } else {
                        checkallBox.checked = false
                    }
                
                }
            }


        }
    </script>
</head>
<body>
    <div>
        <form action="#">
            <div>
                Please choose your hobby:
                <input type="checkbox" id="checkall" /> check-all
            </div>
            <div>
                <input type="checkbox" name="hobby" value="vollyball">Vollyball
                <input type="checkbox" name="hobby" value="basketball">Basketball
                <input type="checkbox" name="hobby" value="football">Football
                <input type="checkbox" name="hobby" value="tennisball">Tennisball
            </div>
            <div>
                <button type="button" id="all">select all</button>
                <button type="button" id="no">dis-select all</button>
                <button type="button" id="reverse">reverse all</button>
                <button type="button" id="send">send</button>
            </div>
        </form>
    </div>
</body>
</html>