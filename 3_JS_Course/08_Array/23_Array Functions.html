<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script>
            /*
                sort()
                - sort用来对数组进行排序（会对改变原数组）
                - sort默认会将数组升序排列
                    注意：sort默认会按照Unicode编码进行排序，所以如果直接通过sort对数字进行排序会得到一个不正确的结果
                - 参数：
                    - 可以传递一个回调比较函数作为参数，通过回调函数来指定排序规则
                        (a, b) => a - b 升序排列
                        (a, b) => b - a 降序排列
            */
            let arr = ["a", "c", "e", "f", "d", "b"]

            arr = [2, 3, 1, 9, 0, 4, 5, 7, 8, 6, 10]

            console.log(arr)

            // arr.sort() 如果直接调用sort()而不提供任何参数，数组的元素会被转换为字符串，然后根据字符串的字典顺序进行排序。
            //对于数字类型的数组，这会导致如10排在2前面的非预期结果，因为字符串"10"在字符串"2"前面
            // arr.sort((a, b) => a - b)
            arr.sort((a, b) => b - a)

            console.log(arr)



            /*
                forEach()
                - 用来遍历数组
                - 它需要一个回调函数作为参数，这个回调函数会被调用多次
                    数组中有几个元素，回调函数就会调用几次
                    每次调用，都会将数组中的数据作为参数传递
                - 回调函数中有三个参数：
                    element 当前的元素
                    index 当前元素的索引
                    array 被遍历的数组

                可以选择使用这些参数中的任何一个或全部，取决于具体需求。例如：只需要数组中的每个元素，可以只使用 element。
                需要知道元素的位置，可以使用 index。
                需要引用整个数组，比如比较当前元素与数组中的其他元素，可以使用 array。
            */

            arr = ["孙悟空", "猪八戒", "沙和尚", "唐僧"]
            arr.forEach((element, index, array) => {
                console.log(array)
            })
            arr.forEach((element, index) => console.log(index, element))


            /*
                filter()
                - 将数组中符合条件的元素保存到一个新数组中返回
                - 需要一个回调函数作为参数，会为每一个元素去调用回调函数，并根据返回值来决定是否将元素添加到新数组中
                - 非破坏性方法，不会影响原数组
            */

            arr = [1, 2, 3, 4, 5, 6, 7, 8]
            // 获取数组中的所有偶数
            let result = arr.filter((arrele) => arrele > 5)
            console.log(result);

            /*
                map()
                - 根据当前数组生成一个新数组
                - 该数组中的每个元素都调用一个提供的函数后的返回值。
                - 需要一个回调函数作为参数，回调函数的返回值会成为新数组中的元素
                - 非破坏性方法,不会影响原数组
            */
            result = arr.map((ele) => ele * 2)
            console.log(result);

            arr = ["孙悟空", "猪八戒", "沙和尚"]
            result = arr.map((ele) => "<li>" + ele + "</li>")
            console.log(result);

            /* 
                reduce()
                将数组中的每个元素（从左到右）应用一个函数，将其减少为单一的输出值。
                它非常适用于需要从数组中生成单一结果的情况，例如求和、求积或者合并数据。
                    - 参数：
                        1. 回调函数，执行数组中每个元素的累积或“归约”操作。
                        2. 可选参数，累积操作的初始值
                    回调函数本身接受至少两个参数：
                        a（累加器）：累加器累积回调的返回值；它是上一次回调返回的值，或者是提供的初始值。
                        b（当前值）：数组中正在处理的元素。

            */
            arr = [1, 2, 3, 4, 5, 6, 7, 8]

            result = arr.reduce((a, b) => {
                console.log(a, b)
                return a * b
            })
            //如果没有提供初始值，reduce() 会将累加器 a 初始化为数组的第一个元素（在这个例子中是 1），并从数组的第二个元素开始处理（即 b 是 2）。
            // 迭代：
            // 第一次调用回调函数时，a = 1, b = 2，函数返回 1 * 2 = 2。
            // 第二次，a = 2, b = 3（从上一次调用返回的结果），函数返回 2 * 3 = 6。
            // 第三次，a = 6, b = 4，函数返回 6 * 4 = 24。
            // 以此类推，直到数组的最后一个元素被处理。
            // 最后，reduce() 返回最终的乘积 40320。
            // 在每次迭代中，console.log(a, b) 语句都会打印当前的累加器值 a 和当前数组元素 b，这有助于你看到 reduce() 是如何逐步处理数组元素的。


            // result = arr.reduce((a, b) => a + b, 10)
            // 这将数组中的元素求和，并从 10 开始累加。
            // 这意味着累加器 a 的初始值是 10，然后加上数组的第一个元素 1，然后是 2，依此类推。
           

            console.log(result)
        </script>
    </head>
    <body></body>
</html>
